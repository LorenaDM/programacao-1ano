<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
        <script>
            consomeAPI = () =>{
                //recupera o cep do usuario
                let titulo = (document.getElementById('titulo').value)
                //vamos criar uma requisição === requsição HTTP
                let requisicao = new XMLHttpRequest()
                let url = `http://www.omdbapi.com/?t=${titulo}&apikey=ceb1544b`
                //vamos abrir a requisição e utilizar o método GET (consulta de dados)
                //temos que passar o endereço da API ou seja do recurso que queremos usar
                //PASSO 1
                requisicao.open('GET', url, true) //json: formato de dados
                //vamos obter o resultado -- envia solicitação
                //PASSO 2
                requisicao.send()
                //PASSO 3
                requisicao.onload = function(){
                    let resposta = JSON.parse(requisicao.responseText)
                    //vamos jogar no labels
                    document.getElementById(`Title`).innerHTML = resposta.Title
                    document.getElementById(`Year`).innerHTML = resposta.Year
                    document.getElementById(`Rated`).innerHTML = resposta.Rated
                    document.getElementById(`Released`).innerHTML = resposta.Released
                    document.getElementById(`Poster`).src = resposta.Poster
                    
                    
                }
                
            }
        </script>    
    </head>
    <body>
        <div class="container">
            <form>
                <div class="form-group"> <!-- form-group é do bootstrap (ele agrupa os dados) -->
                    <label> Título </label>
                    <input class="form-control" type="text" id="titulo"/> <!-- form-control é do bootstrap (ele contem os dados) -->
                </div>
                
                <div class="form-group">
                    <button type="button" onClick="consomeAPI()" class="btn btn-primary"> Consome API </button>
                </div>

                <div class="form-group">
                    Título: <h2 id="Title"></h2>
                    Ano: <h3 id="Year"></h3>
                    Classificação: <h3 id="Rated"></h3>
                    Disponível em: <h3 id="Released"></h3>
                    Poster:  
                    <h3>
                        <img id="Poster"></img>
                    </h3>    
                </div>
                
            </form>
        </div>
    </body>
</html>